import React, { useState } from "react";
import { cn } from "@/lib/utils"; // Utility for conditional class names
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import {
	faSchoolFlag,
	faGraduationCap,
	faBookOpenReader,
	faChalkboardUser,
	faUserGraduate,
} from "@fortawesome/free-solid-svg-icons"; // Example icons
import { Card, CardContent } from "./ui/card";

interface SelectCardProps {
	id: number; // Unique identifier for each card
	icon: any; // FontAwesome icon
	text: string; // Text content
	borderColor?: string; // Custom border color when selected
	onSelect: (id: number) => void; // Selection callback
	isSelected: boolean; // If the card is selected
}

const SelectCard: React.FC<SelectCardProps> = ({
	id,
	icon,
	text,
	borderColor = "border-blue-500", // Default border color
	onSelect,
	isSelected,
}) => {
	return (
		<Card
			onClick={() => onSelect(id)} // Trigger selection on card click
			className={cn(
				"flex  p-4 cursor-pointer transition-all",
				"border", // Base border
				isSelected ? `${borderColor}` : "border-lms-100", // Conditional border color
				"hover:shadow-lg"
			)}
		>
			{/* FontAwesome Icon on the left */}
			<FontAwesomeIcon
				icon={icon}
				className='text-3xl mr-4 h-8 w-8'
			/>

			{/* Text on the right */}
			<CardContent>
				<p className='text-lg font-medium'>{text}</p>
			</CardContent>
		</Card>
	);
};

// Main component for multi-select card grid
const MultiSelectCardGrid: React.FC = () => {
	const [selectedCards, setSelectedCards] = useState<number[]>([]); // State for selected cards

	const handleSelect = (id: number) => {
		setSelectedCards(
			(prevSelected) =>
				prevSelected.includes(id)
					? prevSelected.filter((cardId) => cardId !== id) // Deselect if already selected
					: [...prevSelected, id] // Add to selected if not already selected
		);
	};

	// Example data for cards with FontAwesome icons
	const cards = [
		{ id: 1, icon: faSchoolFlag, text: "Pre-Primary Stage" },
		{ id: 2, icon: faChalkboardUser, text: "Primary Stage" },
		{ id: 3, icon: faBookOpenReader, text: "Middle Stage" },
		{ id: 4, icon: faGraduationCap, text: "Secondary" },
		{ id: 5, icon: faUserGraduate, text: "Senior Secondary" },
	];

	return (
		<div className='grid grid-row-1 md:grid-row-2 lg:grid-row-3 gap-4'>
			{cards.map((card) => (
				<SelectCard
					key={card.id}
					id={card.id}
					icon={card.icon} // Pass the FontAwesome icon
					text={card.text}
					borderColor='border-lmsAccent' // Custom border color when selected
					isSelected={selectedCards.includes(card.id)} // Check if selected
					onSelect={handleSelect} // Handle card selection
				/>
			))}
		</div>
	);
};

export default MultiSelectCardGrid;
